# 错误 0x80070570

Windows程序运行或者删除文件提示错误`0x80070570`：文件或目录损坏且无法读取。

## 环境

Windows 10 

## 解决办法

管理员权限打开cmd，输入`chkdsk 盘符: /f`，提示输入`Y`，修复,重新安装即可。

```dos
Microsoft Windows [版本 10.0.17134.376]
(c) 2018 Microsoft Corporation。保留所有权利。

C:\WINDOWS\system32>chkdsk D: /f
文件系统的类型是 NTFS。

由于该卷正被另一进程使用，无法运行 Chkdsk。
如果先卸除该卷，Chkdsk 或许可以运行。
该卷的所有打开句柄将会无效。
是否要强制卸除该卷? (Y/N) y
卷已被卸除。该卷的所有打开句柄现在无效。
卷标是 Swoftware。

阶段 1: 检查基本文件系统结构...
  已处理 35328 个文件记录。
文件验证完成。
删除孤立文件记录段 1A0。
删除孤立文件记录段 1A1。
删除孤立文件记录段 1A2。
删除孤立文件记录段 1A3。
删除孤立文件记录段 244。
删除孤立文件记录段 245。
删除孤立文件记录段 246。
删除孤立文件记录段 247。
删除孤立文件记录段 300。
删除孤立文件记录段 301。
删除孤立文件记录段 302。
删除孤立文件记录段 303。
删除孤立文件记录段 314。
删除孤立文件记录段 315。
删除孤立文件记录段 316。
删除孤立文件记录段 317。
删除孤立文件记录段 AEC。
删除孤立文件记录段 AED。
删除孤立文件记录段 AEE。
删除孤立文件记录段 AEF。
删除孤立文件记录段 6D44。
删除孤立文件记录段 6D45。
删除孤立文件记录段 6D46。
删除孤立文件记录段 6D47。
删除孤立文件记录段 6D4C。
删除孤立文件记录段 6D4D。
删除孤立文件记录段 6D4E。
删除孤立文件记录段 6D4F。
删除孤立文件记录段 8744。
删除孤立文件记录段 8745。
删除孤立文件记录段 8746。
  已处理 87 个大型文件记录。
删除孤立文件记录段 8747。
  已处理 0 个错误的文件记录。

阶段 2: 检查文件名链接...
  已处理 72 个重新解析记录。
正在删除文件 7F 的索引 $I30 中的索引项 common.xml.txd。
正在删除文件 7F 的索引 $I30 中的索引项 config.xml.txd。
正在删除文件 7F 的索引 $I30 中的索引项 gf-config-postlogin.xml。
正在删除文件 7F 的索引 $I30 中的索引项 gf-config.xml。
正在删除文件 7F 的索引 $I30 中的索引项 platform.tpc。
正在删除文件 7F 的索引 $I30 中的索引项 TIMUninst.ico。
正在删除文件 7F 的索引 $I30 中的索引项 Timwp.xml.txd。
正在删除文件 7F 的索引 $I30 中的索引项 Timwp_gf.tpc。
正在删除文件 7F 的索引 $I30 中的索引项 txupd.exe。
正在删除文件 7F 的索引 $I30 中的索引项 Uninstall.xml。
正在删除文件 83 的索引 $I30 中的索引项 AndroidAssistHelper.dll。
正在删除文件 AD 的索引 $I30 中的索引项 dict6。
正在删除文件 AD 的索引 $I30 中的索引项 dict7。
正在删除文件 B0 的索引 $I30 中的索引项 AsyncSpeechEngine.dll。
正在删除文件 B0 的索引 $I30 中的索引项 YAMADE.dll。
正在删除文件 B0 的索引 $I30 中的索引项 YAMADUtil.dll。
正在删除文件 312 的索引 $I30 中的索引项 SSOStringBundle.xml。
正在删除文件 151E 的索引 $I30 中的索引项 59F49D4919A9CF0B4021D2E6D6C8358F。
正在删除文件 151E 的索引 $I30 中的索引项 EE670DD7B2D6E7BF75BAA9ED898013FB。
正在删除文件 38A5 的索引 $I30 中的索引项 vmware.log。
正在删除文件 6CDA 的索引 $I30 中的索引项 vmware-shell-ext-thunker.exe。
正在删除文件 6CDA 的索引 $I30 中的索引项 vmwarecui.dll。
正在删除文件 6CDA 的索引 $I30 中的索引项 vmwarewui.dll。
正在删除文件 6CDA 的索引 $I30 中的索引项 vnetinst.dll。
正在删除文件 6CDA 的索引 $I30 中的索引项 vnetlib.exe。
正在删除文件 6CDB 的索引 $I30 中的索引项 vmware-vmx-debug.exe。
正在删除文件 6CEF 的索引 $I30 中的索引项 LICENSE.txt。
正在删除文件 6CEF 的索引 $I30 中的索引项 ReleaseNotes.html。
正在删除文件 6CEF 的索引 $I30 中的索引项 unins000.dat。
正在删除文件 6CEF 的索引 $I30 中的索引项 unins000.exe。
正在删除文件 6CEF 的索引 $I30 中的索引项 unins000.msg。
正在删除文件 75E8 的索引 $I30 中的索引项 column.exe。
  已处理 39914 个索引项。
索引验证完成。
  已扫描到 0 个未索引文件。
  已将 0 个未编制索引的文件恢复到回收箱。
  已处理 72 个重新解析记录。

阶段 3: 检查安全描述符...
安全描述符验证完成。
  已处理 2294 个数据文件。
CHKDSK 正在验证 Usn 日志...
  已处理 38118440 个 USN 字节。
Usn 日志验证完成。
CHKDSK 发现主文件表(MFT)位图中有标记为“已分配”的可用空间。
CHKDSK 发现卷位图中有标记为已分配的可用空间。

Windows 已更正文件系统。
无需采取进一步操作。

总共有  104857599 KB 磁盘空间。
13351 个文件中有   24554388 KB。
2295 个索引       3320 KB。
坏扇区        388 KB。
系统正在使用     142231 KB。
日志文件占用了      65536 KB。
磁盘上   80157272 KB 可用。

每个分配单元中有       4096 字节。
磁盘上共有   26214399 个分配单元。
磁盘上有   20039318 个可用的分配单元。
```

## chkdsk 参数说明：

CHKDSK [volume［path]filename］] [/F] [/V] [/X] [/C] [/L[:size］</br>

chkdsk 参数说明：</br>
| 参数 | 解释 |
| --- | --- |
| volume | 指定驱动器(后面跟一个冒号)、装入点或卷名。</br>
| filename | 仅用于 FAT/FAT32: 指定要检查是否有碎片的文件 </br>
| /F | 修复磁盘上的错误。 </br>
| /V | 在 FAT/FAT32 上: 显示磁盘上每个文件的完整路径和名称。在 NTFS 上: 如果有清除消息，将其显示。 </br>
| /R | 查找不正确的扇区并恢复可读信息(隐含 /F)。 </br>
| /L:size | 仅用于 NTFS:? 将日志文件大小改成指定的 KB 数。如果没有指定大小，则显示当前的大小。 </br>
| /X | 如果必要，强制卷先卸下。卷的所有打开的句柄就会无效(隐含 /F) </br>
| /I | 仅用于 NTFS: 对索引项进行强度较小的检查 </br>
| /C | 仅用于 NTFS: 跳过文件夹结构的循环检查。 </br>
| /I 和 /C | 命令行开关跳过卷的某些检查，减少运行 Chkdsk 所需的时间 </br>

## 数据丢失原因分析

出现这种错误提示，是由于各种原因导致的磁盘文件目录(FAT,MFT)出错造成。主要发生在优盘、MP3、移动硬盘等移动设备上，其中大容量(160G以上)NTFS分区格式的外置移动硬盘发生几率最高最多。产生的原因很多，一般有下面几种原因：

1. 没有正常插拔移动设备，系统没有完成完整的读写操作，致使文件目录信息错乱和不完整。比如我们复制一个文件到移动设备，关机重启、拔取后，再次打开使用或到别的电脑上使用时出现症状。
2. 选用了劣质产品，包括劣质电源、主板、数据线、特别是劣质外置硬盘盒。产品的电源、主控电路不稳定，致使磁盘寻址出错，写信息错乱。
3. 使用了PQ、PM等磁盘分区调整工具。
4. 病毒、硬盘硬件本身故障、工作期间突然停电。

## 恢复效果质量

如果是大移动硬盘并且是NTFS分区格式的，恢复质量十分理想，基本都能成功恢复文件和目录结构。 如果是FAT或FAT32格式，根据损坏程度不同，恢复质量效果比NTFS格式结构的分区稍差一些，所以日常使用建议使用NTFS格式分区，其数据安全性更高一些。 一般情况下，CHKDSK可以成功修复出错的分区。但仍有可能没有反应。此时建议不要拔出设备，重启电脑，再观察是否仍然错误。 如果故障依然存在，可以尝试用EasyRecovery、R-STUDIO等软件恢复分区数据。

**注意：**</br>
上述方法并不能完全恢复数据。另有一个方案，删除该分区，再用EasyRecovery恢复删除分区文件，但这样可能会丢失所有数据。</br>
**操作前请先备份**